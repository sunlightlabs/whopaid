(function(){var e,t,n,r,i,s=this;this.$=window.jQuery,this.gigya=window.gigya,this.els=[],this.check_count=0,this.gigya_queued=!1,this.service_button_img="//assets.sunlightfoundation.com.s3.amazonaws.com/site/4.0/images/icons/{size}/{service}.png",t=function(e,n){var r,i,o,u,a;window.jQuery!=null&&window.gigya==null&&!s.gigya_queued&&(window.jQuery.getScript("//cdn.gigya.com/js/socialize.js?apiKey=3_BLRB_2LlQJZDUW1wb9_ZOps-sOnnzA_e6xxNSwJBBGoB-SavmPAKHkaVVZPE5Kx8",function(e,t,n){return window.jQuery.getScript("//cdn.gigya.com/js/gigyaGAIntegration.js")}),s.gigya_queued=!0),r=e.length,i=0;if(check_count>1e5){window.console&&console.log("A requirements test failed after numerous tries, aborting.");return}for(u=0,a=e.length;u<a;u++)o=e[u],window[o]!=null&&i++;return i===r?(s.$=window.jQuery,s.gigya=window.gigya,n()):(check_count++,window.setTimeout(function(){return t(e,n)},100)),null},e=function(e,t){var n;return t==null&&(t={}),n=s.$.extend(e,t),n},i=function(e){var t,n,r,i,s,o;e==null&&(e=""),i=e.split(/[=&](?:amp;)?/),t={};for(n=s=0,o=i.length;s<o;n=++s)r=i[n],n%2&&(t[i[n-1]]=window.decodeURIComponent(i[n]));return t},r=function(){return s.$(function(){return s.els=s.$(".share-buttons[data-gigya]"),s.els.each(function(e,t){return t.id||(t.id="share_buttons_"+(e+1)),t=s.$(t),t.attr("data-gigya")==="auto"?n(t):t.bind(t.attr("data-gigya"),function(){return n(t)})}),s.els}),s.els},n=function(t){var n,r,o,u,a,f,l,c,h,p,d,v,m;p=new s.gigya.socialize.UserAction,h=t.attr("data-services").split(","),n=[],a={containerID:t.attr("id"),iconsOnly:!0,layout:"horizontal",noButtonBorder:!0,shareButtons:n,shortURLs:"never",showCounts:"none",userAction:p},o=i(t.attr("data-options")),o.title!=null?p.setTitle(o.title):(r=s.$("meta[property=og\\:title]"))?p.setTitle(r.attr("content")):p.setTitle(s.$("title").text()),o.linkBack!=null&&p.setLinkBack(o.linkBack),o.description!=null&&p.setDescription(o.description),o.image!=null&&p.addMediaItem({type:image,href:o.linkBack||window.location.href,src:o.image}),o.size!=="24"&&(o.size="16");for(v=0,m=h.length;v<m;v++)f=h[v],l={},f=f.replace(" ",""),u="data-"+f+"-options",c=i(t.attr(u)),d={provider:f,iconImgUp:s.service_button_img.replace("{service}",f).replace("{size}",o.size)},n.push(e(d,l));return s.gigya.socialize.showShareBarUI(s.$.extend(a,o))},t(["jQuery","gigya"],r)}).call(this)
